PUBLIC M6

DSEG SEGMENT PARA PUBLIC 'DATA'
	DIGITS	DB '0','1','2','3','4','5','6','7','8','9'
		DB 'A','B','C','D','E','F'
DSEG ENDS

CSEG SEGMENT PARA PUBLIC 'CODE'
	ASSUME CS:CSEG, DS:DSEG

M6 PROC
	PUSH BX
	PUSH BP
	
	MOV BP, SP
	MOV AX, [BP + 6]
	MOV SI, 4
	MOV CL, 4
	MOV BX, OFFSET DIGITS

FIRST:
	ROL AX, CL
	PUSH AX
	AND AX, 0Fh
	JNZ PRINT
	POP AX
	DEC SI
	JNZ FIRST

ZERO:
	XLAT
	MOV DL, AL
	MOV AH, 2
	INT 21H
	JMP M6END

MAINLP:
	ROL AX, CL
	PUSH AX
	AND AX, 0Fh
PRINT:
	XLAT
	MOV DL, AL
	MOV AH, 2
	INT 21H
	POP AX

	DEC SI
	JNZ MAINLP

M6END:
	POP BP
	POP BX
	RET 2
M6 ENDP

CSEG ENDS
	END