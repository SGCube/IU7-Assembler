.386
.model FLAT,C
PUBLIC SetCler 

.CODE
SetCler PROC
X	EQU DWORD PTR[EBP+16]
N	EQU DWORD PTR[EBP+12]
P	EQU DWORD PTR[EBP+8]
	PUSH EBP
	MOV EBP,ESP
	PUSH EBX
	PUSH EDI

	MOV EDI,N
	SHR EDI,5
	MOV ECX,N
	MOV EBX,X

	CMP P,0
	JE M1
	BTS [EBX+EDI*4],ECX
	JMP M2
M1:
	BTR [EBX+EDI*4],ECX
M2:
	POP EDI
	POP EBX
	POP EBP
	RET 12
SetCler ENDP
END
